--- beecrypt-3.0.0pre/configure.ac.wiget	2003-06-10 23:32:46.000000000 +0200
+++ beecrypt-3.0.0pre/configure.ac	2003-06-11 00:34:19.000000000 +0200
@@ -649,7 +649,7 @@
     CPPFLAGS="$CPPFLAGS -DOPTIMIZE_ARM"
     ;;
   athlon*)
-    CPPFLAGS="$CPPFLAGS -DOPTIMIZE_I386 -DOPTIMIZE_MMX"
+    CPPFLAGS="$CPPFLAGS -DOPTIMIZE_I686 -DOPTIMIZE_MMX"
     ;;
   i386)
     CPPFLAGS="$CPPFLAGS -DOPTIMIZE_I386"
--- beecrypt-4.0.0/acinclude.m4.orig	2004-07-26 07:47:08.000000000 +0200
+++ beecrypt-4.0.0/acinclude.m4	2004-08-01 00:35:07.223247824 +0200
@@ -442,7 +442,7 @@
     if test "$bc_cv_c_aggressive_opt" = yes; then
       case $bc_target_cpu in
       athlon*)
-        CFLAGS="$CFLAGS -mcpu=pentiumpro";
+        CFLAGS="$CFLAGS -mcpu=$bc_target_cpu";
         ;;
       i586)
         CFLAGS="$CFLAGS -mcpu=pentium"
@@ -454,7 +454,7 @@
         # no -mcpu=... option on ia64
         ;;
       pentium*)
-        CFLAGS="$CFLAGS -mcpu=$bc_target_arch"
+        CFLAGS="$CFLAGS -mcpu=$bc_target_cpu"
         ;;
       esac
       # Architecture-specific optimizations
@@ -534,7 +534,7 @@
     if test "$bc_cv_c_aggressive_opt" = yes; then
       case $bc_target_cpu in
       athlon*)
-        CXXFLAGS="$CXXFLAGS -mcpu=pentiumpro";
+        CXXFLAGS="$CXXFLAGS -mcpu=$bc_target_cpu";
         ;;
       i586)
         CXXFLAGS="$CXXFLAGS -mcpu=pentium"
@@ -546,7 +546,7 @@
         # no -mcpu=... option on ia64
         ;;
       pentium*)
-        CXXFLAGS="$CXXFLAGS -mcpu=$bc_target_arch"
+        CXXFLAGS="$CXXFLAGS -mcpu=$bc_target_cpu"
         ;;
       esac
       # Architecture-specific optimizations
